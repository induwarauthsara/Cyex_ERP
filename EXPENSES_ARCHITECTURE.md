# ğŸ—ï¸ Expenses Management - System Architecture

## Visual System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     EXPENSES MANAGEMENT SYSTEM                   â”‚
â”‚                      Srijaya ERP - Admin Panel                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PRESENTATION LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Admin Panel UI (expenses/index.php)        â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚ Current  â”‚  â”‚   Year   â”‚  â”‚   Top    â”‚  â”‚Pending â”‚ â”‚    â”‚
â”‚  â”‚  â”‚  Month   â”‚  â”‚  to Date â”‚  â”‚ Category â”‚  â”‚Paymentsâ”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ [All Expenses] [Recurring] [Analytics]           â”‚  â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚    â”‚
â”‚  â”‚  â”‚  Filters: Date â”‚ Category â”‚ Status â”‚ Search     â”‚  â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚    â”‚
â”‚  â”‚  â”‚  DataTable: Date | Title | Category | Amount... â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  [Add Expense] [Manage Categories]                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â”‚ expenses.js (AJAX Calls)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API LAYER (REST) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        api/v1/expenses/                          â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ categories   â”‚  â”‚ add_category â”‚  â”‚     add      â”‚          â”‚
â”‚  â”‚  .php (GET)  â”‚  â”‚  .php (POST) â”‚  â”‚  .php (POST) â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚     list     â”‚  â”‚    update    â”‚  â”‚    delete    â”‚          â”‚
â”‚  â”‚  .php (GET)  â”‚  â”‚  .php (PUT)  â”‚  â”‚ .php (DELETE)â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  recurring   â”‚  â”‚pay_recurring â”‚  â”‚   summary    â”‚          â”‚
â”‚  â”‚  .php (GET)  â”‚  â”‚  .php (POST) â”‚  â”‚  .php (GET)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                   â”‚
â”‚              Uses: ApiAuth.php, ApiResponse.php                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ SQL Queries (Prepared Statements)
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DATABASE LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MySQL Database                           â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚            expense_categories (10 default)            â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” â”‚       â”‚
â”‚  â”‚  â”‚cat_id  â”‚ name        â”‚ color   â”‚ icon   â”‚statusâ”‚ â”‚       â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚       â”‚
â”‚  â”‚  â”‚   1    â”‚ Rent        â”‚ #FF6B6B â”‚ home   â”‚  1   â”‚ â”‚       â”‚
â”‚  â”‚  â”‚   2    â”‚ Utilities   â”‚ #4ECDC4 â”‚ bolt   â”‚  1   â”‚ â”‚       â”‚
â”‚  â”‚  â”‚  ...   â”‚    ...      â”‚   ...   â”‚  ...   â”‚ ... â”‚ â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              recurring_expenses                       â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚       â”‚
â”‚  â”‚  â”‚rec_id  â”‚ title   â”‚ amount â”‚frequency â”‚next_due â”‚ â”‚       â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚       â”‚
â”‚  â”‚  â”‚   1    â”‚ Rent    â”‚ 50000  â”‚ monthly  â”‚2025-01-01â”‚ â”‚      â”‚
â”‚  â”‚  â”‚   2    â”‚Internet â”‚  5000  â”‚ monthly  â”‚2025-01-01â”‚ â”‚      â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                    expenses                           â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚       â”‚
â”‚  â”‚  â”‚exp_id  â”‚ title  â”‚ amount â”‚cat_id  â”‚statusâ”‚ date â”‚â”‚       â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤â”‚       â”‚
â”‚  â”‚  â”‚   1    â”‚Office  â”‚  1000  â”‚   5    â”‚ paid â”‚12-06 â”‚â”‚       â”‚
â”‚  â”‚  â”‚   2    â”‚Rent    â”‚ 50000  â”‚   1    â”‚ paid â”‚12-01 â”‚â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚            DATABASE VIEWS (Pre-computed)              â”‚       â”‚
â”‚  â”‚  â€¢ v_expense_category_summary                         â”‚       â”‚
â”‚  â”‚  â€¢ v_upcoming_recurring_payments                      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### 1. Adding a One-Time Expense

```
User Action                 Frontend              API              Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Click Add Expense]
       â”‚
       â”œâ”€â”€â–º Open Modal
       â”‚    (expenses.js)
       â”‚
[Fill Form & Submit]
       â”‚
       â”œâ”€â”€â–º Validate Input
       â”‚    (JavaScript)
       â”‚
       â”œâ”€â”€â–º POST Request â”€â”€â”€â”€â”€â”€â–º add.php
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Authenticate
       â”‚                             â”‚    (ApiAuth)
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Validate
       â”‚                             â”‚    (Server-side)
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º INSERT â”€â”€â”€â”€â”€â”€â–º expenses
       â”‚                             â”‚                       â”‚
       â”‚                             â”‚    â—„â”€â”€â”€ ID returned â”€â”€â”˜
       â”‚                             â”‚
       â”‚    â—„â”€â”€â”€ JSON Response â”€â”€â”€â”€â”€â”€â”¤
       â”‚         {success: true}     â”‚
       â”‚
       â”œâ”€â”€â–º Show Success
       â”‚    (SweetAlert)
       â”‚
       â””â”€â”€â–º Reload Table
            (DataTable refresh)
```

### 2. Paying a Recurring Expense

```
User Action                 Frontend              API              Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Click "Pay Now"]
       â”‚
       â”œâ”€â”€â–º Confirm Dialog
       â”‚    (SweetAlert)
       â”‚
[Confirm Payment]
       â”‚
       â”œâ”€â”€â–º POST Request â”€â”€â”€â”€â”€â”€â–º pay_recurring.php
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º BEGIN TRANSACTION
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Fetch Recurring â”€â”€â”€â”€â–º recurring_expenses
       â”‚                             â”‚         Details              â”‚
       â”‚                             â”‚    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º INSERT Payment â”€â”€â”€â”€â”€â–º expenses
       â”‚                             â”‚                              â”‚
       â”‚                             â”‚    â—„â”€â”€â”€ expense_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Calculate Next Due
       â”‚                             â”‚    (PHP logic)
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º UPDATE Next Due â”€â”€â”€â”€â–º recurring_expenses
       â”‚                             â”‚                              â”‚
       â”‚                             â”‚    â—„â”€â”€â”€ Updated â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º COMMIT TRANSACTION
       â”‚                             â”‚
       â”‚    â—„â”€â”€â”€ JSON Response â”€â”€â”€â”€â”€â”€â”¤
       â”‚         {next_due_date}     â”‚
       â”‚
       â”œâ”€â”€â–º Show Success
       â”‚    Update Dashboard
       â”‚    Reload Lists
       â”‚
       â””â”€â”€â–º Display Next Due Date
```

### 3. Dashboard Summary Loading

```
Page Load              Frontend              API              Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[User visits /expenses/]
       â”‚
       â”œâ”€â”€â–º Load HTML
       â”‚    (index.php)
       â”‚
       â”œâ”€â”€â–º Load CSS
       â”‚    (expenses.css)
       â”‚
       â”œâ”€â”€â–º Load JS
       â”‚    (expenses.js)
       â”‚
       â”œâ”€â”€â–º Initialize
       â”‚    DOMContentLoaded
       â”‚
       â”œâ”€â”€â–º GET Request â”€â”€â”€â”€â”€â”€â”€â–º summary.php
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Query Totals â”€â”€â”€â”€â”€â”€â–º expenses
       â”‚                             â”‚                            â”‚
       â”‚                             â”‚    â—„â”€â”€â”€ Aggregated â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Query Categories â”€â”€â–º v_expense_category_summary
       â”‚                             â”‚                            â”‚
       â”‚                             â”‚    â—„â”€â”€â”€ Breakdown â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Query Upcoming â”€â”€â”€â”€â–º v_upcoming_recurring_payments
       â”‚                             â”‚                            â”‚
       â”‚                             â”‚    â—„â”€â”€â”€ Due Items â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                             â”œâ”€â”€â–º Calculate Trends
       â”‚                             â”‚    (PHP logic)
       â”‚                             â”‚
       â”‚    â—„â”€â”€â”€ JSON Response â”€â”€â”€â”€â”€â”€â”¤
       â”‚         {totals, categories,â”‚
       â”‚          upcoming, ...}     â”‚
       â”‚
       â”œâ”€â”€â–º Update Cards
       â”‚    (Current Month, YTD, etc.)
       â”‚
       â”œâ”€â”€â–º Load Categories â”€â”€â”€â”€â”€â”€â”€â”€â–º categories.php
       â”‚                                  â”‚
       â”‚    â—„â”€â”€â”€ Categories â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â–º Populate Dropdowns
       â”‚
       â””â”€â”€â–º Load Expenses â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º list.php
                                         â”‚
            â—„â”€â”€â”€ Expenses List â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â””â”€â”€â–º Render DataTable
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SECURITY LAYERS                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: AUTHENTICATION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Session Check (PHP Session)        â”‚
â”‚  â€¢ Role Verification (Admin Only)     â”‚
â”‚  â€¢ ApiAuth::authenticate()            â”‚
â”‚  â€¢ JWT Token (if mobile app)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
Layer 2: INPUT VALIDATION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Client-side (JavaScript)           â”‚
â”‚  â€¢ Server-side (PHP)                  â”‚
â”‚  â€¢ Type checking (int, float, date)   â”‚
â”‚  â€¢ Range validation (amount > 0)      â”‚
â”‚  â€¢ Format validation (date, color)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
Layer 3: SQL INJECTION PREVENTION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Prepared Statements (ALWAYS)       â”‚
â”‚  â€¢ bind_param() for all queries       â”‚
â”‚  â€¢ No string concatenation in SQL     â”‚
â”‚  â€¢ Parameterized queries only         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
Layer 4: XSS PROTECTION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Output escaping (htmlspecialchars) â”‚
â”‚  â€¢ JSON encoding for API responses    â”‚
â”‚  â€¢ CSP headers (Content Security)     â”‚
â”‚  â€¢ Input sanitization                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
Layer 5: AUTHORIZATION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Admin-only access                  â”‚
â”‚  â€¢ created_by tracking                â”‚
â”‚  â€¢ Audit trail in database            â”‚
â”‚  â€¢ Role-based permissions             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE SCHEMA                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ expense_categories   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK category_id       â”‚â”€â”€â”€â”
â”‚    category_name     â”‚   â”‚
â”‚    description       â”‚   â”‚
â”‚    color_code        â”‚   â”‚
â”‚    icon              â”‚   â”‚
â”‚    status            â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                           â”‚ 1
                           â”‚
                           â”‚ N
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                              â”‚
            â”‚                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ recurring_expenses   â”‚      â”‚      expenses        â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK recurring_id      â”‚â”€â”€â”   â”‚ PK expense_id        â”‚
â”‚ FK category_id       â”‚  â”‚   â”‚ FK category_id       â”‚
â”‚    title             â”‚  â”‚   â”‚ FK recurring_ref_id  â”‚â—„â”€â”
â”‚    amount            â”‚  â”‚   â”‚    title             â”‚  â”‚
â”‚    frequency         â”‚  â”‚   â”‚    amount            â”‚  â”‚
â”‚    next_due_date     â”‚  â”‚   â”‚    expense_date      â”‚  â”‚
â”‚    is_active         â”‚  â”‚   â”‚    payment_method    â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚    status            â”‚  â”‚
                          â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                          â”‚                             â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    1 : N
                         (One recurring can have many payments)

FOREIGN KEYS:
â€¢ recurring_expenses.category_id â†’ expense_categories.category_id
â€¢ expenses.category_id â†’ expense_categories.category_id
â€¢ expenses.recurring_ref_id â†’ recurring_expenses.recurring_id (nullable)

INDEXES:
â€¢ expense_date (for date range queries)
â€¢ next_due_date (for upcoming payments)
â€¢ status (for filtering)
â€¢ category_id (for joins)
```

---

## ğŸ¨ UI Component Hierarchy

```
index.php (Main Container)
â”‚
â”œâ”€â”€ Header Section
â”‚   â”œâ”€â”€ Title & Subtitle
â”‚   â””â”€â”€ Action Buttons
â”‚       â”œâ”€â”€ [Add Expense]
â”‚       â””â”€â”€ [Manage Categories]
â”‚
â”œâ”€â”€ Summary Cards Row
â”‚   â”œâ”€â”€ Card 1: Current Month
â”‚   â”œâ”€â”€ Card 2: Year to Date
â”‚   â”œâ”€â”€ Card 3: Top Category
â”‚   â””â”€â”€ Card 4: Pending Payments
â”‚
â”œâ”€â”€ Tabs Navigation
â”‚   â”œâ”€â”€ [All Expenses] â”€â”€â”€ Active by default
â”‚   â”œâ”€â”€ [Recurring]
â”‚   â””â”€â”€ [Analytics]
â”‚
â”œâ”€â”€ Tab Content 1: All Expenses
â”‚   â”œâ”€â”€ Filters Section
â”‚   â”‚   â”œâ”€â”€ Date Range
â”‚   â”‚   â”œâ”€â”€ Category Dropdown
â”‚   â”‚   â”œâ”€â”€ Status Dropdown
â”‚   â”‚   â”œâ”€â”€ Search Input
â”‚   â”‚   â””â”€â”€ [Apply] [Clear] Buttons
â”‚   â”‚
â”‚   â””â”€â”€ DataTable
â”‚       â””â”€â”€ Columns: Date | Title | Category | Amount | Method | Status | Ref | Actions
â”‚
â”œâ”€â”€ Tab Content 2: Recurring
â”‚   â”œâ”€â”€ Upcoming Payments List
â”‚   â”‚   â””â”€â”€ Items with [Pay Now] button
â”‚   â”‚
â”‚   â””â”€â”€ DataTable (Recurring)
â”‚       â””â”€â”€ Columns: Title | Amount | Category | Frequency | Next Due | Status | Actions
â”‚
â”œâ”€â”€ Tab Content 3: Analytics
â”‚   â””â”€â”€ Charts Row
â”‚       â”œâ”€â”€ Category Breakdown (Donut Chart)
â”‚       â””â”€â”€ Monthly Trend (Placeholder)
â”‚
â”œâ”€â”€ Modal: Add/Edit Expense
â”‚   â”œâ”€â”€ Header (Close X)
â”‚   â”œâ”€â”€ Type Selector
â”‚   â”‚   â”œâ”€â”€ [One-Time] Button
â”‚   â”‚   â””â”€â”€ [Recurring] Button
â”‚   â”‚
â”‚   â”œâ”€â”€ Common Fields
â”‚   â”‚   â”œâ”€â”€ Title Input
â”‚   â”‚   â”œâ”€â”€ Amount Input
â”‚   â”‚   â”œâ”€â”€ Category Dropdown
â”‚   â”‚   â””â”€â”€ Payment Method Dropdown
â”‚   â”‚
â”‚   â”œâ”€â”€ One-Time Fields (Conditional)
â”‚   â”‚   â”œâ”€â”€ Expense Date
â”‚   â”‚   â”œâ”€â”€ Status Dropdown
â”‚   â”‚   â””â”€â”€ Reference Number
â”‚   â”‚
â”‚   â”œâ”€â”€ Recurring Fields (Conditional)
â”‚   â”‚   â”œâ”€â”€ Frequency Dropdown
â”‚   â”‚   â”œâ”€â”€ Start Date
â”‚   â”‚   â”œâ”€â”€ End Date (Optional)
â”‚   â”‚   â””â”€â”€ Remind Days
â”‚   â”‚
â”‚   â”œâ”€â”€ Notes Textarea
â”‚   â”‚
â”‚   â””â”€â”€ Actions
â”‚       â”œâ”€â”€ [Cancel] Button
â”‚       â””â”€â”€ [Save Expense] Button
â”‚
â””â”€â”€ Modal: Manage Categories
    â”œâ”€â”€ Header (Close X)
    â”œâ”€â”€ [Add New Category] Button
    â”œâ”€â”€ Add Form (Expandable)
    â”‚   â”œâ”€â”€ Name Input
    â”‚   â”œâ”€â”€ Description Input
    â”‚   â”œâ”€â”€ Color Picker
    â”‚   â””â”€â”€ Icon Input
    â”‚
    â””â”€â”€ Categories Grid
        â””â”€â”€ Category Items (Icon + Name + Description)
```

---

## ğŸš€ Performance Optimization Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PERFORMANCE STRATEGIES                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATABASE LAYER:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Indexed columns (date, category)   â”‚
â”‚ â€¢ Pre-computed views                 â”‚
â”‚ â€¢ Efficient JOINs                    â”‚
â”‚ â€¢ Pagination (LIMIT/OFFSET)          â”‚
â”‚ â€¢ Query result caching (future)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

API LAYER:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Limit max records (500)            â”‚
â”‚ â€¢ Conditional queries (only needed)  â”‚
â”‚ â€¢ Single responsibility endpoints    â”‚
â”‚ â€¢ Minimal data transfer              â”‚
â”‚ â€¢ Gzip compression (server config)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FRONTEND LAYER:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Lazy load charts (tab activation)  â”‚
â”‚ â€¢ DataTables pagination (25/page)    â”‚
â”‚ â€¢ Debounced search (future)          â”‚
â”‚ â€¢ Minimal DOM manipulation           â”‚
â”‚ â€¢ CDN for libraries                  â”‚
â”‚ â€¢ CSS animations (GPU accelerated)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CACHING STRATEGY (Future):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Browser: LocalStorage for cats    â”‚
â”‚ â€¢ Server: Redis/Memcached for views â”‚
â”‚ â€¢ Database: Query cache enabled      â”‚
â”‚ â€¢ CDN: Static assets (CSS/JS)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Recurring Payment Cycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RECURRING EXPENSE LIFECYCLE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CREATE RECURRING
      â”‚
      â”œâ”€â–º Set frequency (monthly)
      â”œâ”€â–º Set start_date (2025-01-01)
      â””â”€â–º Calculate next_due_date (2025-01-01)
           â”‚
           â–¼
       [ACTIVE]
           â”‚
           â”œâ”€â”€â”€ Days until due: 25
           â”œâ”€â”€â”€ Days until due: 10
           â”œâ”€â”€â”€ Days until due: 3 â”€â”€â–º SHOW IN "UPCOMING PAYMENTS"
           â”œâ”€â”€â”€ Days until due: 0 â”€â”€â–º MARK AS "DUE TODAY"
           â””â”€â”€â”€ Days until due: -5 â”€â–º MARK AS "OVERDUE"
                    â”‚
                    â”‚ [User clicks "Pay Now"]
                    â–¼
              PAY RECURRING
                    â”‚
                    â”œâ”€â–º Create expense record
                    â”‚   (amount, date, category, etc.)
                    â”‚
                    â””â”€â–º Update next_due_date
                        (2025-01-01 â†’ 2025-02-01)
                             â”‚
                             â–¼
                        [ACTIVE]
                             â”‚
                             â””â”€â”€â”€ Cycle continues...
                                  â”‚
                                  â”‚ [If end_date reached]
                                  â–¼
                             [INACTIVE]
                                  â”‚
                                  â””â”€â–º No longer shows in upcoming
```

---

## ğŸ¯ Key Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SYSTEM INTEGRATIONS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXISTING SRIJAYA ERP:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ ApiAuth.php (Authentication)        â”‚
â”‚ â€¢ ApiResponse.php (Response Format)   â”‚
â”‚ â€¢ config.php (Database Connection)    â”‚
â”‚ â€¢ nav.php (Navigation Menu)           â”‚
â”‚ â€¢ employees table (Created By)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXTERNAL LIBRARIES:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ jQuery 3.6.0 (DOM manipulation)     â”‚
â”‚ â€¢ DataTables (Table features)         â”‚
â”‚ â€¢ SweetAlert2 (Beautiful modals)      â”‚
â”‚ â€¢ ApexCharts (Data visualization)     â”‚
â”‚ â€¢ FontAwesome 6.x (Icons)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FUTURE INTEGRATIONS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Mobile App (Expo - React Native)    â”‚
â”‚ â€¢ Email Notifications (PHPMailer)     â”‚
â”‚ â€¢ SMS Alerts (Twilio)                 â”‚
â”‚ â€¢ Bank Feeds (Open Banking API)       â”‚
â”‚ â€¢ Accounting Software (Export)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Architecture Version**: 1.0  
**Created**: 2025-12-06  
**Status**: âœ… Documented & Complete
